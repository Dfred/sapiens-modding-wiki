import{_ as s,o as n,c as a,U as e}from"./chunks/framework.1eef7d9b.js";const F=JSON.parse('{"title":"Coordinates","description":"","frontmatter":{},"headers":[],"relativePath":"docs/visuals/coordinates.md","filePath":"docs/visuals/coordinates.md","lastUpdated":1663807037000}'),o={name:"docs/visuals/coordinates.md"},l=e(`<h1 id="coordinates" tabindex="-1">Coordinates <a class="header-anchor" href="#coordinates" aria-label="Permalink to &quot;Coordinates&quot;">​</a></h1><p>In Sapiens, there are three coordinate systems: The first is used during world generation (pre-render), the second is used for rendering (render), and the third is used during normal gameplay (meters).</p><h2 id="prerender-scale" tabindex="-1">Prerender Scale <a class="header-anchor" href="#prerender-scale" aria-label="Permalink to &quot;Prerender Scale&quot;">​</a></h2><p>The world is a unit sphere, where sea level is <code>1.0</code> radius. The north pole is <code>0.0, 1.0, 00</code>. In pre-render, the coordinates are just 3D positions in that space.</p><h2 id="render-scale" tabindex="-1">Render Scale <a class="header-anchor" href="#render-scale" aria-label="Permalink to &quot;Render Scale&quot;">​</a></h2><p>The render scale is similar to pre-render, except that it&#39;s <code>100,000</code> times larger. The significance of this scale is unknown.</p><p>Alongside having it&#39;s own scale, the render coordinate systems is relative to a shifting origin point. This prevents floating point insanity, no matter where you are on such a large planet.</p><h2 id="meter-scale" tabindex="-1">Meter Scale <a class="header-anchor" href="#meter-scale" aria-label="Permalink to &quot;Meter Scale&quot;">​</a></h2><p>The meter scale is used during normal gameplay. Each side of a hex in sapiens is roughly 2 meters (although be aware of pole-distortion).</p><h2 id="conversions-and-constants" tabindex="-1">Conversions and Constants <a class="header-anchor" href="#conversions-and-constants" aria-label="Permalink to &quot;Conversions and Constants&quot;">​</a></h2><p>The <code>mj</code> module contains a few methods for converting back and forth between the three coordinate systems. Here is a cleaned up version of the code:</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> RENDER_SCALE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100000.0</span></span>
<span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> WORLD_SIZE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8388608.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mj</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">mToP</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">meters</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;font-style:italic;">--- Converts meters to pre-render coordinates.</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> (meters </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> WORLD_SIZE)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mj</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">mToR</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">meters</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;font-style:italic;">--- Converts meters to render coordinates.</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> (meters </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> mj.</span><span style="color:#FFCB6B;">RENDER_SCALE</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> WORLD_SIZE)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mj</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">rToM</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">render</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;font-style:italic;">--- Converts render coordinates to meters.</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> (render </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> WORLD_SIZE </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> mj.</span><span style="color:#FFCB6B;">RENDER_SCALE</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mj</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">pToM</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">prerender</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;font-style:italic;">--- Converts pre-render coordinates to meters.</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> (prerender </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> WORLD_SIZE)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">end</span></span></code></pre></div>`,12),t=[l];function r(p,c,i,d,y,D){return n(),a("div",null,t)}const A=s(o,[["render",r]]);export{F as __pageData,A as default};
