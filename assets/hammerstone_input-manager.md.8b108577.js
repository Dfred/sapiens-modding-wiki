import{_ as l,c as i,o as a,d as s}from"./app.474f198a.js";const g=JSON.parse('{"title":"Input Manager","description":"","frontmatter":{},"headers":[{"level":2,"title":"Including","slug":"including","link":"#including","children":[]},{"level":2,"title":"Using","slug":"using","link":"#using","children":[]},{"level":2,"title":"Groups","slug":"groups","link":"#groups","children":[]},{"level":2,"title":"Key Codes & Modifiers","slug":"key-codes-modifiers","link":"#key-codes-modifiers","children":[]},{"level":2,"title":"Adding a mapping","slug":"adding-a-mapping","link":"#adding-a-mapping","children":[]}],"relativePath":"hammerstone/input-manager.md","lastUpdated":1664143882000}'),e={name:"hammerstone/input-manager.md"},n=s(`<h1 id="input-manager" tabindex="-1">Input Manager <a class="header-anchor" href="#input-manager" aria-hidden="true">#</a></h1><p>The input manager is provides an easy way to add input to your mod.</p><h2 id="including" tabindex="-1">Including <a class="header-anchor" href="#including" aria-hidden="true">#</a></h2><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre><code><span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> inputManager </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">mjrequire</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hammerstone/input/inputManager</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h2 id="using" tabindex="-1">Using <a class="header-anchor" href="#using" aria-hidden="true">#</a></h2><p>The input system in Sapiens is fully rebindable, so we have to use strings to keep track of inputs. There are also categorisation in the form of groups.</p><h2 id="groups" tabindex="-1">Groups <a class="header-anchor" href="#groups" aria-hidden="true">#</a></h2><p>The built in groups for Sapiens are as follows:</p><ul><li>Menu [<code>menu</code>]: Contains menu navigation controls</li><li>Game [<code>game</code>]: Contains hotkeys for opening various in-game menus</li><li>Movement [<code>movement</code>]: Contains forward, backwards, left &amp; right, among other things</li><li>Building [<code>building</code>]: Contains various building shortcuts &amp; hotkeys.</li><li>Text Entry [<code>textEntry</code>]: Contains keys like send and backspace.</li><li>Multi-select [<code>multiSelect</code>]: Contains the subtract modifier for multiselect.</li><li>Debug [<code>debug</code>]: Contains various debug controls</li><li>Cinematic Camera [<code>cinematicCamera</code>]: Contains all the control for the cinematic camera</li></ul><p>When adding a key mapping, you have to use one of these groups:</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre><code><span class="line"><span style="color:#FFCB6B;">inputManager</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">addMapping</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">groupName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">...</span></span>
<span class="line"></span></code></pre></div><h4 id="adding-a-group" tabindex="-1">Adding a group <a class="header-anchor" href="#adding-a-group" aria-hidden="true">#</a></h4><p>Hammerstone has support for adding a group like this:</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre><code><span class="line"><span style="color:#FFCB6B;">inputManager</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">addGroup</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">groupName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="key-codes-modifiers" tabindex="-1">Key Codes &amp; Modifiers <a class="header-anchor" href="#key-codes-modifiers" aria-hidden="true">#</a></h2><p>Sapiens uses key codes instead of strings to determine default keys. The keyCodes and modifiers can be accessed with:</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre><code><span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> keyMapping </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">mjrequire</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mainThread/keyMapping</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> keyCodes </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> keyMapping.</span><span style="color:#FFCB6B;">keyCodes</span></span>
<span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> modifiers </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> keyMapping.</span><span style="color:#FFCB6B;">modifiers</span></span>
<span class="line"></span></code></pre></div><details><summary>Full list of all keycodes</summary><ul><li>backspace</li><li>tab</li><li>key_return</li><li>escape</li><li>space</li><li>exclaim</li><li>quotedbl</li><li>hash</li><li>dollar</li><li>percent</li><li>ampersand</li><li>quote</li><li>leftparen</li><li>rightparen</li><li>asterisk</li><li>plus</li><li>comma</li><li>minus</li><li>period</li><li>slash</li><li>key_0</li><li>key_1</li><li>key_2</li><li>key_3</li><li>key_4</li><li>key_5</li><li>key_6</li><li>key_7</li><li>key_8</li><li>key_9</li><li>colon</li><li>semicolon</li><li>less</li><li>equals</li><li>greater</li><li>question</li><li>at</li><li>leftbracket</li><li>backslash</li><li>rightbracket</li><li>caret</li><li>underscore</li><li>backquote</li><li>a</li><li>b</li><li>c</li><li>d</li><li>e</li><li>f</li><li>g</li><li>h</li><li>i</li><li>j</li><li>k</li><li>l</li><li>m</li><li>n</li><li>o</li><li>p</li><li>q</li><li>r</li><li>s</li><li>t</li><li>u</li><li>v</li><li>w</li><li>x</li><li>y</li><li>z</li><li>delete</li><li>capslock</li><li>f1</li><li>f2</li><li>f3</li><li>f4</li><li>f5</li><li>f6</li><li>f7</li><li>f8</li><li>f9</li><li>f10</li><li>f11</li><li>f12</li><li>printscreen</li><li>scrolllock</li><li>pause</li><li>insert</li><li>home</li><li>pageup</li><li>key_end</li><li>pagedown</li><li>right</li><li>left</li><li>down</li><li>up</li><li>numlockclear</li><li>kp_divide</li><li>kp_multiply</li><li>kp_minus</li><li>kp_plus</li><li>kp_enter</li><li>kp_1</li><li>kp_2</li><li>kp_3</li><li>kp_4</li><li>kp_5</li><li>kp_6</li><li>kp_7</li><li>kp_8</li><li>kp_9</li><li>kp_0</li><li>kp_period</li><li>application</li><li>power</li><li>kp_equals</li><li>f13</li><li>f14</li><li>f15</li><li>f16</li><li>f17</li><li>f18</li><li>f19</li><li>f20</li><li>f21</li><li>f22</li><li>f23</li><li>f24</li><li>execute</li><li>help</li><li>menu</li><li>select</li><li>stop</li><li>again</li><li>undo</li><li>cut</li><li>copy</li><li>paste</li><li>find</li><li>mute</li><li>volumeup</li><li>volumedown</li><li>kp_comma</li><li>kp_equalsas400</li><li>alterase</li><li>sysreq</li><li>cancel</li><li>clear</li><li>prior</li><li>return2</li><li>separator</li><li>out</li><li>oper</li><li>clearagain</li><li>crsel</li><li>exsel</li><li>kp_00</li><li>kp_000</li><li>thousandsseparator</li><li>decimalseparator</li><li>currencyunit</li><li>currencysubunit</li><li>kp_leftparen</li><li>kp_rightparen</li><li>kp_leftbrace</li><li>kp_rightbrace</li><li>kp_tab</li><li>kp_backspace</li><li>kp_a</li><li>kp_b</li><li>kp_c</li><li>kp_d</li><li>kp_e</li><li>kp_f</li><li>kp_xor</li><li>kp_power</li><li>kp_percent</li><li>kp_less</li><li>kp_greater</li><li>kp_ampersand</li><li>kp_dblampersand</li><li>kp_verticalbar</li><li>kp_dblverticalbar</li><li>kp_colon</li><li>kp_hash</li><li>kp_space</li><li>kp_at</li><li>kp_exclam</li><li>kp_memstore</li><li>kp_memrecall</li><li>kp_memclear</li><li>kp_memadd</li><li>kp_memsubtract</li><li>kp_memmultiply</li><li>kp_memdivide</li><li>kp_plusminus</li><li>kp_clear</li><li>kp_clearentry</li><li>kp_binary</li><li>kp_octal</li><li>kp_decimal</li><li>kp_hexadecimal</li><li>lctrl</li><li>lshift</li><li>lalt</li><li>lgui</li><li>rctrl</li><li>rshift</li><li>ralt</li><li>rgui</li><li>mode</li><li>audionext</li><li>audioprev</li><li>audiostop</li><li>audioplay</li><li>audiomute</li><li>mediaselect</li><li>www</li><li>mail</li><li>calculator</li><li>computer</li><li>ac_search</li><li>ac_home</li><li>ac_back</li><li>ac_forward</li><li>ac_stop</li><li>ac_refresh</li><li>ac_bookmarks</li><li>brightnessdown</li><li>brightnessup</li><li>displayswitch</li><li>kbdillumtoggle</li><li>kbdillumdown</li><li>kbdillumup</li><li>eject</li><li>sleep</li></ul></details><details><summary>Full list of modifiers</summary><ul><li>none (default)</li><li>shift</li><li>ctrl</li><li>alt</li><li>cmd (Windows key)</li></ul></details><h2 id="adding-a-mapping" tabindex="-1">Adding a mapping <a class="header-anchor" href="#adding-a-mapping" aria-hidden="true">#</a></h2><p>The full process for adding a mapping is as follows. First, add the mapping:</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre><code><span class="line"><span style="color:#FFCB6B;">inputManager</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">addMapping</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">groupName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">keyBindName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, keyCodes.[default key], modifiers.[modifier] </span><span style="color:#89DDFF;">or</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>Then, bind a function to it:</p><div class="language-lua"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre><code><span class="line"><span style="color:#FFCB6B;">inputManager</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">addKeyChangedCallback</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">groupName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">keyBindName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">isDown</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">isRepeat</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;">-- Do whatever you want</span></span>
<span class="line"><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>Everything should be working now!</p>`,25),p=[n];function o(t,r,c,d,u,y){return a(),i("div",null,p)}const k=l(e,[["render",o]]);export{g as __pageData,k as default};
