import{_ as s,c as n,o as e,d as a}from"./app.aa7b13f3.js";const C=JSON.parse('{"title":"Coordinates","description":"","frontmatter":{},"headers":[{"level":2,"title":"Prerender Scale","slug":"prerender-scale","link":"#prerender-scale","children":[]},{"level":2,"title":"Render Scale","slug":"render-scale","link":"#render-scale","children":[]},{"level":2,"title":"Meter Scale","slug":"meter-scale","link":"#meter-scale","children":[]},{"level":2,"title":"Conversions and Constants","slug":"conversions-and-constants","link":"#conversions-and-constants","children":[]}],"relativePath":"docs/visuals/coordinates.md","lastUpdated":1663807037000}'),o={name:"docs/visuals/coordinates.md"},l=a(`<h1 id="coordinates" tabindex="-1">Coordinates <a class="header-anchor" href="#coordinates" aria-hidden="true">#</a></h1><p>In Sapiens, there are three coordinate systems: The first is used during world generation (pre-render), the second is used for rendering (render), and the third is used during normal gameplay (meters).</p><h2 id="prerender-scale" tabindex="-1">Prerender Scale <a class="header-anchor" href="#prerender-scale" aria-hidden="true">#</a></h2><p>The world is a unit sphere, where sea level is <code>1.0</code> radius. The north pole is <code>0.0, 1.0, 00</code>. In pre-render, the coordinates are just 3D positions in that space.</p><h2 id="render-scale" tabindex="-1">Render Scale <a class="header-anchor" href="#render-scale" aria-hidden="true">#</a></h2><p>The render scale is similar to pre-render, except that it&#39;s <code>100,000</code> times larger. The significance of this scale is unknown.</p><p>Alongside having it&#39;s own scale, the render coordinate systems is relative to a shifting origin point. This prevents floating point insanity, no matter where you are on such a large planet.</p><h2 id="meter-scale" tabindex="-1">Meter Scale <a class="header-anchor" href="#meter-scale" aria-hidden="true">#</a></h2><p>The meter scale is used during normal gameplay. Each side of a hex in sapiens is roughly 2 meters (although be aware of pole-distortion).</p><h2 id="conversions-and-constants" tabindex="-1">Conversions and Constants <a class="header-anchor" href="#conversions-and-constants" aria-hidden="true">#</a></h2><p>The <code>mj</code> module contains a few methods for converting back and forth between the three coordinate systems. Here is a cleaned up version of the code:</p><div class="language-lua"><button class="copy"></button><span class="lang">lua</span><pre><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> RENDER_SCALE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100000.0</span></span>
<span class="line"><span style="color:#89DDFF;">local</span><span style="color:#A6ACCD;"> WORLD_SIZE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8388608.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mj</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">mToP</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">meters</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;">--- Converts meters to pre-render coordinates.</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> (meters </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> WORLD_SIZE)</span></span>
<span class="line"><span style="color:#89DDFF;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mj</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">mToR</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">meters</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;">--- Converts meters to render coordinates.</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> (meters </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> mj.</span><span style="color:#FFCB6B;">RENDER_SCALE</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> WORLD_SIZE)</span></span>
<span class="line"><span style="color:#89DDFF;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mj</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">rToM</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">render</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;">--- Converts render coordinates to meters.</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> (render </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> WORLD_SIZE </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> mj.</span><span style="color:#FFCB6B;">RENDER_SCALE</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mj</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">pToM</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">prerender</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;">--- Converts pre-render coordinates to meters.</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> (prerender </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> WORLD_SIZE)</span></span>
<span class="line"><span style="color:#89DDFF;">end</span></span>
<span class="line"></span></code></pre></div>`,12),r=[l];function p(t,c,i,d,D,y){return e(),n("div",null,r)}const A=s(o,[["render",p]]);export{C as __pageData,A as default};
